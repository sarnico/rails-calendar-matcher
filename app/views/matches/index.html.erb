<div class="container">
  <% if @my_events == nil  %>
    <h1>You don't have any event yet</h1>
    <%= link_to "Create an event", new_match_path %>
  <% else %>

    <h1>My events :</h1>

    <% @my_events.uniq.each do |match| %>

     <!--
      tryed to implement if statement for the statue of the event

      if match.state = "cancel"
        <p>[canceled]</p>
      elsif match.state = "done"
        <p>[done]</p>
      else
        <p>[pending]</p>
      end
      -->
      <ul>
        <li>
          Title: <%= match.title %>
          <br>
          Description: <%= match.description %>
          <br>
          Location: <%= match.location %>
          <br>
          Date: <% if match.match_date == nil %>
                  Still looking for a match
                <% else %>
                  <%= match.match_date.strftime("%a %d %B %Y") %>
                <% end %>
          <br>
          Hour: from <em><%= match.min_time.strftime("%H:%M") %></em> until <em><%= match.max_time.strftime("%H:%M") %></em>
          <br>
          organized by: <%= match.owner.email %>
          <br>
          Attendees : <% match.attendees.each do |user| %>
            <ul>  <li><%= user.email %></li></ul>
          <% end %>
          <p><%= link_to "Edit event", edit_match_path(match) %> - <%= link_to "Delete event", match_path(match), method: :delete, data: { confirm: "Are you sure?" } %></p>
        </li>
    </ul>
    <% end %>
    <%= link_to "+ Create a new event", new_match_path %>

  <% end %>

</div>

<!-- can change the email in the link to get the right calendar directly from google -->
<!-- <iframe src="https://calendar.google.com/calendar/embed?src=mrdifalko%40gmail.com&ctz=Europe%2FBrussels" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe> -->

